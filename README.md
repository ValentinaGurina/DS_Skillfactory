# Сегментация клиентов онлайн-магазина подарков

1. Знакомство с данными

### Признаки, описывающие каждую транзакцию:

InvoiceNo — номер счёта-фактуры (уникальный номинальный шестизначный номер, присваиваемый каждой транзакции; буква 'C' в начале кода указывает на отмену транзакции);
StockCode — код товара (уникальное пятизначное целое число, присваиваемое каждому отдельному товару);
Description — название товара;
Quantity — количество каждого товара за транзакцию;
InvoiceDate — дата и время выставления счёта/проведения транзакции;
UnitPrice — цена за единицу товара в фунтах стерлингов;
CustomerID — идентификатор клиента (уникальный пятизначный номер, однозначно присваиваемый каждому клиенту);
Country — название страны, в которой проживает клиент.


2. Предобработка набора данных
 2.1. Очистка данных и преобразование данных
 2.2. Разведывательный анализ данных 


Найдены и обработаны (удалены) пропуски.
Найдены и обработаны (удалены) дубликаты.
Для каждой транзакции рассчитано количество возвращённого впоследствии товара.
Найдены и удалены транзакции с отрицательным количеством товара.
Найдены и удалены все специализированные транзакции.
Найдены и удалены транзакции, в которых присутствуют бесплатные товары.
Для каждой транзакции рассчитана общая стоимость товаров.


2. Построение RFM-таблицы и поиск RFM-выбросов

Метод заключается в группировке клиентов на основе следующих параметров:
* Recency (Давность) — давность последней покупки клиента;
* Frequency (Частота) — общее количество покупок клиента;
* Monetary Value (Денежная ценность) — сколько денег потратил клиент.


Суть RFM-анализа состоит в том, что мы разделяем всех клиентов на группы в зависимости от того, как давно они сделали последнюю покупку, как часто покупали и насколько большой была сумма их заказов. 


3. Моделирование и оценка качества моделей

    3.1. Кластеризация на основе RFM-характеристик

    3.2. Подготовка данных и снижение размерности

    3.3. Моделирование
        3.3.1 k-means++
        3.3.2. GaussianMixture (EM-алгоритм)
        3.3.3. AgglomerativeClustering
        3.3.4. DBSCAN
        3.3.5. DBSCAN (с подбором eps)

В результате выбрана модель k-means++ (3 кластера, random state = 42), тк она имеет наибольшей коэффициент силуэта

    3.4. Интерпретация результатов кластеризации и  Построение профиля кластеров

Кластер 0 - неактивные клиенты (средний срок активности 253 дня назад), которые совершили с среднем менее 1.5 заказов на небольшую сумму (386)
Кластер 1 - активные клиенты (средний срок активности 32 дня назад), совершившие в среднем 7 заказов средней суммой в 2650 фунтов
Кластер 2 - активные клиенты  (средний срок активности 21 дня назад), совершившие в среднем 2.3 заказа средней суммой в 660 фунтов

Таким образом, по результатам полученной кластериации - ключевый профиль клиентов, которые приносит доход и на котором имеет смысл сосредоточится в рамках проведения рекламных компаний - это клиенты кластера 1.